{% comment %}
  Check if the product is on sale and set a variable to be used below.
{% endcomment %}
{% assign on_sale = false %}
{% if product.compare_at_price > product.price %}
  {% assign on_sale = true %}
{% endif %}

{% comment %}
  Check if the product is sold out and set a variable to be used below.
{% endcomment %}
{% assign sold_out = true %}
{% if product.available  %}
  {% assign sold_out = false %}
{% endif %}

{% comment %}
  Set a class for sold-out and on-sale items
{% endcomment %}
<div class="grid-item no-bottom-margin product-grid-item large--one-third medium--one-half small--one-half{% if sold_out %} sold-out{% endif %}{% if on_sale %} on-sale{% endif %}">

  <a href="{{ product.url | within: collection }}" class="product-grid-image">
    <img src="{{ product.featured_image.src | product_img_url: 'large' }}" alt="{{ product.featured_image.alt | escape }}">
    {% if sold_out %}
      <strong>Sold Out</strong>
    {% endif %}
  </a>
  <div class="product-grid-detail">
    <a class="product-title" href="{{ product.url | within: collection }}">{{ product.title }}</a>
    <p>
       <span>
       {% if product.price_varies %}From{% endif %}
        {{ product.price | money }}
      </span>
    </p>
  </div>

</div>